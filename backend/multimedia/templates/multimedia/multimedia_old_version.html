<!--check the context in views.py for the content accessible-->

<!--This includes the base code for the html from core -->
{% extends 'multimedia/templates/multimedia/multimedia_base.html' %}

{% load static %}

{% block css %}
<link href="{% static 'css/multimedia.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
<div class="container m-4 mx-auto">

<h1 class="text-display text-center">{{title}}</h1>
<p class="text-muted"><small>
    {% for tag in tags %}
        #{{tag}}
    {% endfor %}
</small></p>
<!-- Image Carousel Display Start -->

<div id="image-carousel" class="carousel slide" data-ride="carousel">

    <ol class="carousel-indicators">

        {% for img in images %}
            {% if forloop.first %}
                <li data-target="#image-carousel" data-slide-to="0" class="active"></li>
            {% else %}
                <li data-target="#image-carousel" data-slide-to="{{forloop.counter0}}"></li>
            {% endif %}
        {% endfor %}
    </ol>
    <div class="carousel-inner">
        {% for img in images %}
            {% if forloop.first %}
            <div class="carousel-item active">
                <img class="d-block w-100" src="{{img.src}}" alt="{{img.title}}">
                <div class="carousel-caption d-none d-md-block">
                    <h5 class = "multimedia-card-title" >{{img.title}}</h5>
                </div>
            </div>
            {% else %}
            <div class="carousel-item">
                <img class="d-block w-100" src="{{img.src}}" alt="{{img.title}}">
                <div class="carousel-caption d-none d-md-block">
                    <h5 class = "multimedia-card-title" >{{img.title}}</h5>
                </div>
            </div>
            {% endif %}

        {% endfor %}
        <div class="carousel-item active">
            <img class="d-block w-100" src="{{img.src}}" alt="{{img.title}}">
        </div>
    </div>
    <a class="carousel-control-prev" href="#image-carousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#image-carousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
<!-- Image Carousel Display End -->
<hr>
<!-- Video Carousel Display Start -->
  <div id="video-carousel" class="carousel slide mt-5" data-ride="carousel">
    <ol class="carousel-indicators">
        {% for vid in videos %}
            {% if forloop.first %}
                <li data-target="#video-carousel" data-slide-to="0" class="active"></li>
            {% else %}
                <li data-target="#video-carousel" data-slide-to="{{forloop.counter0}}"></li>
            {% endif %}
        {% endfor %}
    </ol>
    <div class="carousel-inner">
        {% for vid in videos %}
            {% if forloop.first %}
            <div class="carousel-item active">
                <video class="d-block w-100" controls>
                    <source src="{{vid.src}}" type="video/mp4" />
                </video>
                <div class="carousel-caption d-none d-md-block">
                    <h5>{{vid.title}}</h5>
                </div>
            </div>
            {% else %}
            <div class="carousel-item">
                <video class="d-block w-100" autoplay loop controls muted>
                    <source src="{{vid.src}}" type="video/mp4" />
                </video>
                <div class="carousel-caption d-none d-md-block">
                    <h5>{{vid.title}}</h5>
                </div>
            </div>
            {% endif %}

        {% endfor %}
        <div class="carousel-item active">
            <img class="d-block w-100" src="{{img.src}}" alt="{{img.title}}">
        </div>
    </div>
    <a class="carousel-control-prev" href="#video-carousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#video-carousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
  <!-- Video Carousel Display End -->

</div>
{% endblock %}
